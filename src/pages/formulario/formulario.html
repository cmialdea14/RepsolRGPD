<!--
  Generated template for the FormularioPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ 'TituloNavBarForm' | translate }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<!--Toma de fotogorafía-->
	<ion-card class="cardFoto">
	  <ion-card-title text-center>
	      {{ 'Foto' | translate }}
	  </ion-card-title>
	  <ion-item class="itemFoto">
	  	<img *ngIf="foto" [src]="foto"/>
	  </ion-item>
	  <ion-card-content>		
		<button ion-button type="button" block small (click)="capturarFoto()">{{ 'BotonFoto' | translate }}</button>
		<p text-center>Debe de tomarse una foto. Para ello haga click en "Tomar foto"</p>
	  </ion-card-content>
	</ion-card>

	<!--Formulario con data driven forms (FORM BUILDER)-->
	<form class="formulario" [formGroup]="formularioAcceso" (ngSubmit)="enviarForm()">
		<ion-list>
			<ion-item>
				<ion-label floating>{{ 'Nombre' | translate }}</ion-label>
				<ion-input type="string" formControlName="nombre" ></ion-input>
			</ion-item>
			<div class="validator-info" *ngIf="formularioAcceso.controls.nombre.hasError('required')">
				  Campo obligatorio
			</div>
			<div class="validator-error" *ngIf="formularioAcceso.controls.nombre.hasError('pattern')">
				  El nombre no es válido, compruebe que la primera letra es mayúscula y que no haya introducido números
			</div>
			<ion-item>
				<ion-label floating>{{ 'Apellido1' | translate }}</ion-label>
				<ion-input type="string" formControlName="apellido1" ></ion-input>
			</ion-item>
			<div class="validator-info" *ngIf="formularioAcceso.controls.apellido1.hasError('required')">
				  Campo obligatorio
			</div>
			<div class="validator-error" *ngIf="formularioAcceso.controls.apellido1.hasError('pattern')">
				  El apellido no es válido, compruebe que la primera letra es mayúscula y que no haya introducido números
			</div>			
			<ion-item>
				<ion-label floating>{{ 'Apellido2' | translate }}</ion-label>
				<ion-input type="string" formControlName="apellido2"></ion-input>
			</ion-item>
			<div class="validator-error" *ngIf="formularioAcceso.controls.apellido2.hasError('pattern')">
				  El apellido no es válido, compruebe que la primera letra es mayúscula y que no haya introducido números
			</div>	
			<ion-item>
				<ion-label floating>{{ 'identidad' | translate }}</ion-label>
				<ion-input type="string" formControlName="identidad"></ion-input>
			</ion-item>
			<div class="validator-info" *ngIf="formularioAcceso.controls.identidad.hasError('required')">
				  Campo obligatorio
			</div>
			<div class="validator-error" *ngIf="formularioAcceso.controls.identidad.hasError('validNifNiePassport')">
				  El documento identificativo no es válido, compruebe que lo ha escrito correctamente
			</div>						
			<ion-item>
				<ion-label floating>{{ 'Email' | translate }}</ion-label>
				<ion-input type="email" formControlName="email"></ion-input>
			</ion-item>
			<div class="validator-info" *ngIf="formularioAcceso.controls.email.hasError('required')">
				  Campo obligatorio
			</div>
			<div class="validator-error" *ngIf="formularioAcceso.controls.email.hasError('pattern')">
				  El email no es válido, compruebe que lo ha escrito correctamente
			</div>			
			<ion-item>
				<button ion-button type="submit" block [disabled]="!formularioAcceso.valid && foto !== undefined">{{ 'BotonSiguiente' | translate }}</button>
			</ion-item>

		</ion-list>

	</form>

</ion-content>
